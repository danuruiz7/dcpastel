---
const images = [
  "https://images.pexels.com/photos/2693447/pexels-photo-2693447.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
  "https://images.pexels.com/photos/13058710/pexels-photo-13058710.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
  "https://images.pexels.com/photos/15228657/pexels-photo-15228657/free-photo-of-plato-azucar-postre-dulce.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
];
---

<div class="slider">
  <div class="slides">
    <img src={images[0]} alt="Imagen 1" />
    <img src={images[1]} alt="Imagen 2" />
    <img src={images[2]} alt="Imagen 3" />
  </div>
  <button class="prev" onclick="prevSlide()">&#10094;</button>
  <button class="next" onclick="nextSlide()">&#10095;</button>
</div>

<script>
  let slideIndex = 0;
  const slides = document.querySelector(".slides");
  const totalSlides = slides!.children.length;

  function showSlide(index: any) {
    // Asegurarse de que el índice sea válido
    if (index >= totalSlides) {
      slideIndex = 0;
    } else if (index < 0) {
      slideIndex = totalSlides - 1;
    } else {
      slideIndex = index;
    }

    // Mover las imágenes en el eje X
    slides!.style.transform = `translateX(${-slideIndex * 300}px)`;
  }

  function nextSlide() {
    showSlide(slideIndex + 1);
  }

  function prevSlide() {
    showSlide(slideIndex - 1);
  }

  // Slider automático
  setInterval(() => {
    nextSlide();
  }, 3000); // Cambiar de imagen cada 3 segundos
</script>

<style>
  .slider {
    position: relative;
    width: 300px; /* Ancho del slider (tamaño horizontal) */
    height: 500px; /* Alto del slider (tamaño vertical) */
    overflow: hidden;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  }

  .slides {
    display: flex;
    transition: transform 0.5s ease-in-out;
  }

  .slides img {
    width: 300px; /* Ancho de cada imagen */
    height: 500px; /* Alto de cada imagen */
    object-fit: cover;
  }

  .prev,
  .next {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(0, 0, 0, 0.5);
    color: white;
    border: none;
    padding: 10px;
    cursor: pointer;
    z-index: 1;
  }

  .prev {
    left: 10px;
  }

  .next {
    right: 10px;
  }
</style>
